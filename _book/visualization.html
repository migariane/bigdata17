<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Computing for Big Data (BST-262)</title>
  <meta name="description" content="Class notes for BST 262">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Computing for Big Data (BST-262)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Class notes for BST 262" />
  <meta name="github-repo" content="cchoirat/bigdata17" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Computing for Big Data (BST-262)" />
  
  <meta name="twitter:description" content="Class notes for BST 262" />
  

<meta name="author" content="Christine Choirat">


<meta name="date" content="2017-12-10">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="bigdata.html">
<link rel="next" href="references-1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Computing for Big Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#logistics"><i class="fa fa-check"></i><b>1.1</b> Logistics</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#rationale"><i class="fa fa-check"></i><b>1.3</b> Rationale</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#big-data-bottlenecks"><i class="fa fa-check"></i><b>1.4</b> Big data bottlenecks</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#syllabus"><i class="fa fa-check"></i><b>1.5</b> Syllabus</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#evaluation"><i class="fa fa-check"></i><b>1.6</b> Evaluation</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#software-tools-and-packages"><i class="fa fa-check"></i><b>1.7</b> Software tools and packages</a></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#datasets"><i class="fa fa-check"></i><b>1.8</b> Datasets</a><ul>
<li class="chapter" data-level="1.8.1" data-path="intro.html"><a href="intro.html#movielens"><i class="fa fa-check"></i><b>1.8.1</b> MovieLens</a></li>
<li class="chapter" data-level="1.8.2" data-path="intro.html"><a href="intro.html#airlines-data"><i class="fa fa-check"></i><b>1.8.2</b> Airlines data</a></li>
<li class="chapter" data-level="1.8.3" data-path="intro.html"><a href="intro.html#insurance-claims"><i class="fa fa-check"></i><b>1.8.3</b> Insurance claims</a></li>
<li class="chapter" data-level="1.8.4" data-path="intro.html"><a href="intro.html#census"><i class="fa fa-check"></i><b>1.8.4</b> Census</a></li>
<li class="chapter" data-level="1.8.5" data-path="intro.html"><a href="intro.html#pm2.5-exposure"><i class="fa fa-check"></i><b>1.8.5</b> PM<sub>2.5</sub> exposure</a></li>
<li class="chapter" data-level="1.8.6" data-path="intro.html"><a href="intro.html#methylation"><i class="fa fa-check"></i><b>1.8.6</b> Methylation</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="intro.html"><a href="intro.html#contributing-with-github"><i class="fa fa-check"></i><b>1.9</b> Contributing with GitHub</a></li>
<li class="chapter" data-level="1.10" data-path="intro.html"><a href="intro.html#before-we-start"><i class="fa fa-check"></i><b>1.10</b> Before we start…</a></li>
<li class="chapter" data-level="1.11" data-path="intro.html"><a href="intro.html#style"><i class="fa fa-check"></i><b>1.11</b> Style</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basic tools</a><ul>
<li class="chapter" data-level="2.1" data-path="basics.html"><a href="basics.html#command-line-tools"><i class="fa fa-check"></i><b>2.1</b> Command line tools</a><ul>
<li class="chapter" data-level="2.1.1" data-path="basics.html"><a href="basics.html#why-use-the-command-line"><i class="fa fa-check"></i><b>2.1.1</b> Why use the command line?</a></li>
<li class="chapter" data-level="2.1.2" data-path="basics.html"><a href="basics.html#basic-unix-tools"><i class="fa fa-check"></i><b>2.1.2</b> Basic Unix tools</a></li>
<li class="chapter" data-level="2.1.3" data-path="basics.html"><a href="basics.html#useful-tools"><i class="fa fa-check"></i><b>2.1.3</b> Useful tools</a></li>
<li class="chapter" data-level="2.1.4" data-path="basics.html"><a href="basics.html#example"><i class="fa fa-check"></i><b>2.1.4</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basics.html"><a href="basics.html#makefiles"><i class="fa fa-check"></i><b>2.2</b> Makefiles</a><ul>
<li class="chapter" data-level="2.2.1" data-path="basics.html"><a href="basics.html#simulate-data-in-r"><i class="fa fa-check"></i><b>2.2.1</b> Simulate data in R</a></li>
<li class="chapter" data-level="2.2.2" data-path="basics.html"><a href="basics.html#create-a-plot-in-python"><i class="fa fa-check"></i><b>2.2.2</b> Create a plot in Python</a></li>
<li class="chapter" data-level="2.2.3" data-path="basics.html"><a href="basics.html#run-statistical-model-in-r"><i class="fa fa-check"></i><b>2.2.3</b> Run statistical model in R</a></li>
<li class="chapter" data-level="2.2.4" data-path="basics.html"><a href="basics.html#run-statistical-model-in-r-1"><i class="fa fa-check"></i><b>2.2.4</b> Run statistical model in R</a></li>
<li class="chapter" data-level="2.2.5" data-path="basics.html"><a href="basics.html#makefile-syntax"><i class="fa fa-check"></i><b>2.2.5</b> Makefile syntax</a></li>
<li class="chapter" data-level="2.2.6" data-path="basics.html"><a href="basics.html#naive-version"><i class="fa fa-check"></i><b>2.2.6</b> Naive version</a></li>
<li class="chapter" data-level="2.2.7" data-path="basics.html"><a href="basics.html#making-all-targets"><i class="fa fa-check"></i><b>2.2.7</b> Making all targets</a></li>
<li class="chapter" data-level="2.2.8" data-path="basics.html"><a href="basics.html#dealing-with-dependencies"><i class="fa fa-check"></i><b>2.2.8</b> Dealing with dependencies</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basics.html"><a href="basics.html#git-and-github"><i class="fa fa-check"></i><b>2.3</b> Git and GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>3</b> Packages</a><ul>
<li class="chapter" data-level="3.1" data-path="packages.html"><a href="packages.html#why"><i class="fa fa-check"></i><b>3.1</b> Why?</a></li>
<li class="chapter" data-level="3.2" data-path="packages.html"><a href="packages.html#package-structure"><i class="fa fa-check"></i><b>3.2</b> Package structure</a></li>
<li class="chapter" data-level="3.3" data-path="packages.html"><a href="packages.html#building-steps"><i class="fa fa-check"></i><b>3.3</b> Building steps</a><ul>
<li class="chapter" data-level="3.3.1" data-path="packages.html"><a href="packages.html#r-cmd-build"><i class="fa fa-check"></i><b>3.3.1</b> <code>R CMD build</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="packages.html"><a href="packages.html#r-cmd-install"><i class="fa fa-check"></i><b>3.3.2</b> <code>R CMD INSTALL</code></a></li>
<li class="chapter" data-level="3.3.3" data-path="packages.html"><a href="packages.html#r-cmd-check"><i class="fa fa-check"></i><b>3.3.3</b> <code>R CMD check</code></a></li>
<li class="chapter" data-level="3.3.4" data-path="packages.html"><a href="packages.html#building-steps-with-devtools"><i class="fa fa-check"></i><b>3.3.4</b> Building steps with <code>devtools</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="packages.html"><a href="packages.html#create-an-r-package"><i class="fa fa-check"></i><b>3.4</b> Create an R package</a><ul>
<li class="chapter" data-level="3.4.1" data-path="packages.html"><a href="packages.html#utilspackage.skeleton"><i class="fa fa-check"></i><b>3.4.1</b> <code>utils::package.skeleton</code></a></li>
<li class="chapter" data-level="3.4.2" data-path="packages.html"><a href="packages.html#devtoolscreate"><i class="fa fa-check"></i><b>3.4.2</b> <code>devtools::create</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="packages.html"><a href="packages.html#submit-to-cran"><i class="fa fa-check"></i><b>3.4.3</b> Submit to CRAN</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="packages.html"><a href="packages.html#r-packages-on-github"><i class="fa fa-check"></i><b>3.5</b> R packages on GitHub</a><ul>
<li class="chapter" data-level="3.5.1" data-path="packages.html"><a href="packages.html#gitignore"><i class="fa fa-check"></i><b>3.5.1</b> <code>.gitignore</code></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="packages.html"><a href="packages.html#rstudio-projects"><i class="fa fa-check"></i><b>3.6</b> RStudio projects</a><ul>
<li class="chapter" data-level="3.6.1" data-path="packages.html"><a href="packages.html#project-options"><i class="fa fa-check"></i><b>3.6.1</b> Project options</a></li>
<li class="chapter" data-level="3.6.2" data-path="packages.html"><a href="packages.html#package-documentation"><i class="fa fa-check"></i><b>3.6.2</b> Package documentation</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="packages.html"><a href="packages.html#package-workflow-example"><i class="fa fa-check"></i><b>3.7</b> Package workflow example</a><ul>
<li class="chapter" data-level="3.7.1" data-path="packages.html"><a href="packages.html#add-linreg.r-to-r-directory"><i class="fa fa-check"></i><b>3.7.1</b> Add <code>linreg.R</code> to <code>R/</code> directory</a></li>
<li class="chapter" data-level="3.7.2" data-path="packages.html"><a href="packages.html#run-our-function"><i class="fa fa-check"></i><b>3.7.2</b> Run our function</a></li>
<li class="chapter" data-level="3.7.3" data-path="packages.html"><a href="packages.html#add-roxygen2-documentation"><i class="fa fa-check"></i><b>3.7.3</b> Add ROxygen2 documentation</a></li>
<li class="chapter" data-level="3.7.4" data-path="packages.html"><a href="packages.html#configure-build-tools"><i class="fa fa-check"></i><b>3.7.4</b> Configure Build Tools</a></li>
<li class="chapter" data-level="3.7.5" data-path="packages.html"><a href="packages.html#man-page"><i class="fa fa-check"></i><b>3.7.5</b> <code>man</code> page</a></li>
<li class="chapter" data-level="3.7.6" data-path="packages.html"><a href="packages.html#formatted-output"><i class="fa fa-check"></i><b>3.7.6</b> Formatted output</a></li>
<li class="chapter" data-level="3.7.7" data-path="packages.html"><a href="packages.html#description"><i class="fa fa-check"></i><b>3.7.7</b> <code>DESCRIPTION</code></a></li>
<li class="chapter" data-level="3.7.8" data-path="packages.html"><a href="packages.html#namespace"><i class="fa fa-check"></i><b>3.7.8</b> <code>NAMESPACE</code></a></li>
<li class="chapter" data-level="3.7.9" data-path="packages.html"><a href="packages.html#s3-basics"><i class="fa fa-check"></i><b>3.7.9</b> S3 basics</a></li>
<li class="chapter" data-level="3.7.10" data-path="packages.html"><a href="packages.html#s3-and-s4-generics"><i class="fa fa-check"></i><b>3.7.10</b> S3 and S4 generics</a></li>
<li class="chapter" data-level="3.7.11" data-path="packages.html"><a href="packages.html#print"><i class="fa fa-check"></i><b>3.7.11</b> <code>print</code></a></li>
<li class="chapter" data-level="3.7.12" data-path="packages.html"><a href="packages.html#other-methods"><i class="fa fa-check"></i><b>3.7.12</b> Other methods</a></li>
<li class="chapter" data-level="3.7.13" data-path="packages.html"><a href="packages.html#formulas-and-model-frames"><i class="fa fa-check"></i><b>3.7.13</b> Formulas and model frames</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="packages.html"><a href="packages.html#unit-testing"><i class="fa fa-check"></i><b>3.8</b> Unit testing</a><ul>
<li class="chapter" data-level="3.8.1" data-path="packages.html"><a href="packages.html#unit-tests-and-testthat"><i class="fa fa-check"></i><b>3.8.1</b> Unit tests and <code>testthat</code></a></li>
<li class="chapter" data-level="3.8.2" data-path="packages.html"><a href="packages.html#test_coef.r"><i class="fa fa-check"></i><b>3.8.2</b> <code>test_coef.R</code></a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="packages.html"><a href="packages.html#continuous-integration"><i class="fa fa-check"></i><b>3.9</b> Continuous integration</a></li>
<li class="chapter" data-level="3.10" data-path="packages.html"><a href="packages.html#code-coverage"><i class="fa fa-check"></i><b>3.10</b> Code coverage</a></li>
<li class="chapter" data-level="3.11" data-path="packages.html"><a href="packages.html#back-to-github"><i class="fa fa-check"></i><b>3.11</b> Back to GitHub</a></li>
<li class="chapter" data-level="3.12" data-path="packages.html"><a href="packages.html#vignettes"><i class="fa fa-check"></i><b>3.12</b> Vignettes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>4</b> Optimization</a><ul>
<li class="chapter" data-level="4.1" data-path="optimization.html"><a href="optimization.html#measuring-performance"><i class="fa fa-check"></i><b>4.1</b> Measuring performance</a><ul>
<li class="chapter" data-level="4.1.1" data-path="optimization.html"><a href="optimization.html#benchmarking"><i class="fa fa-check"></i><b>4.1.1</b> Benchmarking</a></li>
<li class="chapter" data-level="4.1.2" data-path="optimization.html"><a href="optimization.html#profiling-and-optimization"><i class="fa fa-check"></i><b>4.1.2</b> Profiling and optimization</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="optimization.html"><a href="optimization.html#improving-performance"><i class="fa fa-check"></i><b>4.2</b> Improving performance</a></li>
<li class="chapter" data-level="4.3" data-path="optimization.html"><a href="optimization.html#vectorization"><i class="fa fa-check"></i><b>4.3</b> Vectorization</a></li>
<li class="chapter" data-level="4.4" data-path="optimization.html"><a href="optimization.html#parallelization"><i class="fa fa-check"></i><b>4.4</b> Parallelization</a></li>
<li class="chapter" data-level="4.5" data-path="optimization.html"><a href="optimization.html#introduction-to-c"><i class="fa fa-check"></i><b>4.5</b> Introduction to C++</a><ul>
<li class="chapter" data-level="4.5.1" data-path="optimization.html"><a href="optimization.html#rcpp"><i class="fa fa-check"></i><b>4.5.1</b> Rcpp</a></li>
<li class="chapter" data-level="4.5.2" data-path="optimization.html"><a href="optimization.html#hello-world"><i class="fa fa-check"></i><b>4.5.2</b> Hello World!</a></li>
<li class="chapter" data-level="4.5.3" data-path="optimization.html"><a href="optimization.html#sourcecpp"><i class="fa fa-check"></i><b>4.5.3</b> <code>sourceCpp</code></a></li>
<li class="chapter" data-level="4.5.4" data-path="optimization.html"><a href="optimization.html#data-types"><i class="fa fa-check"></i><b>4.5.4</b> Data types</a></li>
<li class="chapter" data-level="4.5.5" data-path="optimization.html"><a href="optimization.html#sugar"><i class="fa fa-check"></i><b>4.5.5</b> Sugar</a></li>
<li class="chapter" data-level="4.5.6" data-path="optimization.html"><a href="optimization.html#example-continued"><i class="fa fa-check"></i><b>4.5.6</b> Example (continued)</a></li>
<li class="chapter" data-level="4.5.7" data-path="optimization.html"><a href="optimization.html#back-to-linreg"><i class="fa fa-check"></i><b>4.5.7</b> Back to Linreg</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="optimization.html"><a href="optimization.html#rcpp-packages"><i class="fa fa-check"></i><b>4.6</b> Rcpp packages</a></li>
<li class="chapter" data-level="4.7" data-path="optimization.html"><a href="optimization.html#getting-serious-about-c"><i class="fa fa-check"></i><b>4.7</b> Getting serious about C++</a><ul>
<li class="chapter" data-level="4.7.1" data-path="optimization.html"><a href="optimization.html#stl"><i class="fa fa-check"></i><b>4.7.1</b> STL</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="optimization.html"><a href="optimization.html#profiling"><i class="fa fa-check"></i><b>4.8</b> Profiling</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="databases.html"><a href="databases.html"><i class="fa fa-check"></i><b>5</b> Databases</a><ul>
<li class="chapter" data-level="5.1" data-path="databases.html"><a href="databases.html#what-is-sql"><i class="fa fa-check"></i><b>5.1</b> What is SQL?</a><ul>
<li class="chapter" data-level="5.1.1" data-path="databases.html"><a href="databases.html#what-is-a-database"><i class="fa fa-check"></i><b>5.1.1</b> What is a database?</a></li>
<li class="chapter" data-level="5.1.2" data-path="databases.html"><a href="databases.html#relational-databases-sql"><i class="fa fa-check"></i><b>5.1.2</b> Relational Databases (SQL)</a></li>
<li class="chapter" data-level="5.1.3" data-path="databases.html"><a href="databases.html#types-of-relational-databases"><i class="fa fa-check"></i><b>5.1.3</b> Types of Relational Databases</a></li>
<li class="chapter" data-level="5.1.4" data-path="databases.html"><a href="databases.html#sql"><i class="fa fa-check"></i><b>5.1.4</b> SQL</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="databases.html"><a href="databases.html#sqlite-an-exercise"><i class="fa fa-check"></i><b>5.2</b> SQLite: An Exercise</a><ul>
<li class="chapter" data-level="5.2.1" data-path="databases.html"><a href="databases.html#make-a-table"><i class="fa fa-check"></i><b>5.2.1</b> Make a Table</a></li>
<li class="chapter" data-level="5.2.2" data-path="databases.html"><a href="databases.html#insert-values"><i class="fa fa-check"></i><b>5.2.2</b> Insert Values</a></li>
<li class="chapter" data-level="5.2.3" data-path="databases.html"><a href="databases.html#select-values"><i class="fa fa-check"></i><b>5.2.3</b> Select Values</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="databases.html"><a href="databases.html#sql-and-r"><i class="fa fa-check"></i><b>5.3</b> SQL and R</a><ul>
<li class="chapter" data-level="5.3.1" data-path="databases.html"><a href="databases.html#data-oscars-and-movies-again-2016-oscars-nominations"><i class="fa fa-check"></i><b>5.3.1</b> Data: <code>oscars</code> and <code>movies</code> again: 2016 Oscars Nominations</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="databases.html"><a href="databases.html#non-relational-databases-nosql"><i class="fa fa-check"></i><b>5.4</b> Non-Relational Databases (noSQL)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="databases.html"><a href="databases.html#drawbacks-of-relational-databases"><i class="fa fa-check"></i><b>5.4.1</b> Drawbacks of Relational Databases</a></li>
<li class="chapter" data-level="5.4.2" data-path="databases.html"><a href="databases.html#common-types-of-nosql-databases"><i class="fa fa-check"></i><b>5.4.2</b> Common Types of NoSQL Databases</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="databases.html"><a href="databases.html#references"><i class="fa fa-check"></i><b>5.5</b> References</a></li>
<li class="chapter" data-level="5.6" data-path="databases.html"><a href="databases.html#nosql-mongodb"><i class="fa fa-check"></i><b>5.6</b> NoSQL: MongoDB</a><ul>
<li class="chapter" data-level="5.6.1" data-path="databases.html"><a href="databases.html#json-format"><i class="fa fa-check"></i><b>5.6.1</b> JSON format</a></li>
<li class="chapter" data-level="5.6.2" data-path="databases.html"><a href="databases.html#reading-a-json-file"><i class="fa fa-check"></i><b>5.6.2</b> Reading a JSON file</a></li>
<li class="chapter" data-level="5.6.3" data-path="databases.html"><a href="databases.html#restful-apis"><i class="fa fa-check"></i><b>5.6.3</b> RESTful APIs</a></li>
<li class="chapter" data-level="5.6.4" data-path="databases.html"><a href="databases.html#back-and-forth"><i class="fa fa-check"></i><b>5.6.4</b> Back and forth</a></li>
<li class="chapter" data-level="5.6.5" data-path="databases.html"><a href="databases.html#mongodb"><i class="fa fa-check"></i><b>5.6.5</b> MongoDB</a></li>
<li class="chapter" data-level="5.6.6" data-path="databases.html"><a href="databases.html#querying-data"><i class="fa fa-check"></i><b>5.6.6</b> Querying data</a></li>
<li class="chapter" data-level="5.6.7" data-path="databases.html"><a href="databases.html#example-mhealth-data"><i class="fa fa-check"></i><b>5.6.7</b> Example: mHealth data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bigdata.html"><a href="bigdata.html"><i class="fa fa-check"></i><b>6</b> Big data</a><ul>
<li class="chapter" data-level="6.1" data-path="bigdata.html"><a href="bigdata.html#how-to-deal-with-very-too-large-datasets"><i class="fa fa-check"></i><b>6.1</b> How to deal with (very / too) large datasets?</a></li>
<li class="chapter" data-level="6.2" data-path="bigdata.html"><a href="bigdata.html#how-big-is-big"><i class="fa fa-check"></i><b>6.2</b> How big is big?</a></li>
<li class="chapter" data-level="6.3" data-path="bigdata.html"><a href="bigdata.html#list-of-tools"><i class="fa fa-check"></i><b>6.3</b> List of tools</a></li>
<li class="chapter" data-level="6.4" data-path="bigdata.html"><a href="bigdata.html#data-that-fits-in-memory"><i class="fa fa-check"></i><b>6.4</b> Data that fits in memory</a><ul>
<li class="chapter" data-level="6.4.1" data-path="bigdata.html"><a href="bigdata.html#faster-io"><i class="fa fa-check"></i><b>6.4.1</b> Faster I/O</a></li>
<li class="chapter" data-level="6.4.2" data-path="bigdata.html"><a href="bigdata.html#reference-vs-copy"><i class="fa fa-check"></i><b>6.4.2</b> Reference vs copy</a></li>
<li class="chapter" data-level="6.4.3" data-path="bigdata.html"><a href="bigdata.html#data.table-another-data-manipulation-grammar"><i class="fa fa-check"></i><b>6.4.3</b> data.table: another data manipulation grammar</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="bigdata.html"><a href="bigdata.html#data-that-doesnt-fit-in-memory-but-fits-on-drive"><i class="fa fa-check"></i><b>6.5</b> Data that doesn’t fit in memory (but fits on drive)</a></li>
<li class="chapter" data-level="6.6" data-path="bigdata.html"><a href="bigdata.html#pure-r-solutions"><i class="fa fa-check"></i><b>6.6</b> Pure R solutions</a><ul>
<li class="chapter" data-level="6.6.1" data-path="bigdata.html"><a href="bigdata.html#a-regressions-example"><i class="fa fa-check"></i><b>6.6.1</b> A regressions example</a></li>
<li class="chapter" data-level="6.6.2" data-path="bigdata.html"><a href="bigdata.html#sampling"><i class="fa fa-check"></i><b>6.6.2</b> Sampling</a></li>
<li class="chapter" data-level="6.6.3" data-path="bigdata.html"><a href="bigdata.html#bigmemory"><i class="fa fa-check"></i><b>6.6.3</b> <code>bigmemory</code></a></li>
<li class="chapter" data-level="6.6.4" data-path="bigdata.html"><a href="bigdata.html#database-connections-and-lazy-evaluation"><i class="fa fa-check"></i><b>6.6.4</b> Database connections and lazy evaluation</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="bigdata.html"><a href="bigdata.html#scaling-up"><i class="fa fa-check"></i><b>6.7</b> Scaling up</a></li>
<li class="chapter" data-level="6.8" data-path="bigdata.html"><a href="bigdata.html#parallel-computing-and-clusters"><i class="fa fa-check"></i><b>6.8</b> Parallel computing and clusters</a></li>
<li class="chapter" data-level="6.9" data-path="bigdata.html"><a href="bigdata.html#cloud-computing"><i class="fa fa-check"></i><b>6.9</b> Cloud computing</a></li>
<li class="chapter" data-level="6.10" data-path="bigdata.html"><a href="bigdata.html#h2o-fast-scalable-machine-learning"><i class="fa fa-check"></i><b>6.10</b> <code>h2o</code>: “Fast Scalable Machine Learning”</a><ul>
<li class="chapter" data-level="6.10.1" data-path="bigdata.html"><a href="bigdata.html#ecosystem"><i class="fa fa-check"></i><b>6.10.1</b> Ecosystem</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="bigdata.html"><a href="bigdata.html#running-h20-locally-within-r"><i class="fa fa-check"></i><b>6.11</b> Running h20 locally within R</a></li>
<li class="chapter" data-level="6.12" data-path="bigdata.html"><a href="bigdata.html#jvm-from-wikipedia"><i class="fa fa-check"></i><b>6.12</b> JVM (from Wikipedia)</a></li>
<li class="chapter" data-level="6.13" data-path="bigdata.html"><a href="bigdata.html#which-languages-from-wikipedia"><i class="fa fa-check"></i><b>6.13</b> Which languages? (from Wikipedia)</a></li>
<li class="chapter" data-level="6.14" data-path="bigdata.html"><a href="bigdata.html#which-languages"><i class="fa fa-check"></i><b>6.14</b> Which languages?</a></li>
<li class="chapter" data-level="6.15" data-path="bigdata.html"><a href="bigdata.html#state-of-the-h2o-jvm"><i class="fa fa-check"></i><b>6.15</b> State of the h2o JVM</a><ul>
<li class="chapter" data-level="6.15.1" data-path="bigdata.html"><a href="bigdata.html#importing-data-into-h2o-from-the-r-session"><i class="fa fa-check"></i><b>6.15.1</b> Importing data into h2o from the R session</a></li>
<li class="chapter" data-level="6.15.2" data-path="bigdata.html"><a href="bigdata.html#h2o-functions"><i class="fa fa-check"></i><b>6.15.2</b> h2o functions</a></li>
<li class="chapter" data-level="6.15.3" data-path="bigdata.html"><a href="bigdata.html#lets-check-from-the-h2o-jvm"><i class="fa fa-check"></i><b>6.15.3</b> Let’s check from the h2o JVM</a></li>
<li class="chapter" data-level="6.15.4" data-path="bigdata.html"><a href="bigdata.html#importing-data-into-h2o-from-disk"><i class="fa fa-check"></i><b>6.15.4</b> Importing data into h2o from disk</a></li>
<li class="chapter" data-level="6.15.5" data-path="bigdata.html"><a href="bigdata.html#running-a-statistical-model"><i class="fa fa-check"></i><b>6.15.5</b> Running a statistical model</a></li>
<li class="chapter" data-level="6.15.6" data-path="bigdata.html"><a href="bigdata.html#h2o-models"><i class="fa fa-check"></i><b>6.15.6</b> <code>h2o</code> models</a></li>
<li class="chapter" data-level="6.15.7" data-path="bigdata.html"><a href="bigdata.html#closing-the-h2o-session"><i class="fa fa-check"></i><b>6.15.7</b> Closing the h2o session</a></li>
<li class="chapter" data-level="6.15.8" data-path="bigdata.html"><a href="bigdata.html#available-algorithms"><i class="fa fa-check"></i><b>6.15.8</b> Available algorithms</a></li>
<li class="chapter" data-level="6.15.9" data-path="bigdata.html"><a href="bigdata.html#how-to-incorporate-new-models-in-h2o"><i class="fa fa-check"></i><b>6.15.9</b> How to incorporate new models in h2o?</a></li>
</ul></li>
<li class="chapter" data-level="6.16" data-path="bigdata.html"><a href="bigdata.html#spark"><i class="fa fa-check"></i><b>6.16</b> Spark</a><ul>
<li class="chapter" data-level="6.16.1" data-path="bigdata.html"><a href="bigdata.html#run-a-statistical-model"><i class="fa fa-check"></i><b>6.16.1</b> Run a statistical model</a></li>
<li class="chapter" data-level="6.16.2" data-path="bigdata.html"><a href="bigdata.html#deployment"><i class="fa fa-check"></i><b>6.16.2</b> Deployment</a></li>
</ul></li>
<li class="chapter" data-level="6.17" data-path="bigdata.html"><a href="bigdata.html#sparkling-water"><i class="fa fa-check"></i><b>6.17</b> <code>Sparkling Water</code></a></li>
<li class="chapter" data-level="6.18" data-path="bigdata.html"><a href="bigdata.html#adding-new-models-to-h2o-and-spark"><i class="fa fa-check"></i><b>6.18</b> Adding new models to <code>h2o</code> and <code>spark</code></a></li>
<li class="chapter" data-level="6.19" data-path="bigdata.html"><a href="bigdata.html#more"><i class="fa fa-check"></i><b>6.19</b> More?</a></li>
<li class="chapter" data-level="6.20" data-path="bigdata.html"><a href="bigdata.html#amazon-web-services-aws"><i class="fa fa-check"></i><b>6.20</b> Amazon Web Services (AWS)</a></li>
<li class="chapter" data-level="6.21" data-path="bigdata.html"><a href="bigdata.html#spark-on-aws-amazon-elastic-mapreduce-emr"><i class="fa fa-check"></i><b>6.21</b> Spark on AWS: Amazon Elastic MapReduce (EMR)</a><ul>
<li class="chapter" data-level="6.21.1" data-path="bigdata.html"><a href="bigdata.html#amazon-s3"><i class="fa fa-check"></i><b>6.21.1</b> Amazon S3</a></li>
<li class="chapter" data-level="6.21.2" data-path="bigdata.html"><a href="bigdata.html#amazon-cli"><i class="fa fa-check"></i><b>6.21.2</b> Amazon CLI</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>7</b> Visualization</a><ul>
<li class="chapter" data-level="7.1" data-path="visualization.html"><a href="visualization.html#maps-and-gis"><i class="fa fa-check"></i><b>7.1</b> Maps and GIS</a><ul>
<li class="chapter" data-level="7.1.1" data-path="visualization.html"><a href="visualization.html#longitudes-latitudes-and-crs"><i class="fa fa-check"></i><b>7.1.1</b> Longitudes, latitudes and CRS</a></li>
<li class="chapter" data-level="7.1.2" data-path="visualization.html"><a href="visualization.html#vector-data-and-shapefiles"><i class="fa fa-check"></i><b>7.1.2</b> Vector data and shapefiles</a></li>
<li class="chapter" data-level="7.1.3" data-path="visualization.html"><a href="visualization.html#raster-data"><i class="fa fa-check"></i><b>7.1.3</b> Raster data</a></li>
<li class="chapter" data-level="7.1.4" data-path="visualization.html"><a href="visualization.html#backends"><i class="fa fa-check"></i><b>7.1.4</b> Backends</a></li>
<li class="chapter" data-level="7.1.5" data-path="visualization.html"><a href="visualization.html#r-as-a-gis-packages"><i class="fa fa-check"></i><b>7.1.5</b> R as a GIS: packages</a></li>
<li class="chapter" data-level="7.1.6" data-path="visualization.html"><a href="visualization.html#example-1"><i class="fa fa-check"></i><b>7.1.6</b> Example</a></li>
<li class="chapter" data-level="7.1.7" data-path="visualization.html"><a href="visualization.html#from-sp-to-sf"><i class="fa fa-check"></i><b>7.1.7</b> From <code>sp</code> to <code>sf</code></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="visualization.html"><a href="visualization.html#principles-of-visualization"><i class="fa fa-check"></i><b>7.2</b> Principles of visualization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Computing for Big Data (BST-262)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualization" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Visualization</h1>
<div id="maps-and-gis" class="section level2">
<h2><span class="header-section-number">7.1</span> Maps and GIS</h2>
<p>GIS: <strong>G</strong>eographic <strong>I</strong>nformation <strong>S</strong>ystem</p>
<p>Readings:</p>
<ul>
<li><p><a href="https://bookdown.org/robinlovelace/geocompr/intro.html" class="uri">https://bookdown.org/robinlovelace/geocompr/intro.html</a></p></li>
<li><p><span class="citation">Bivand, Pebesma, and Gómez-Rubio (<a href="#ref-Bivand2013">2013</a>)</span></p></li>
<li><p><a href="http://rspatial.org/index.html" class="uri">http://rspatial.org/index.html</a></p></li>
<li><p><a href="http://www.spatialecology.com/beyer/assets/Beyer_Introduction_to_geospatial_analysis_in_R.pdf" class="uri">http://www.spatialecology.com/beyer/assets/Beyer_Introduction_to_geospatial_analysis_in_R.pdf</a></p></li>
</ul>
<div id="longitudes-latitudes-and-crs" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Longitudes, latitudes and CRS</h3>
<p>Reading: <a href="https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/OverviewCoordinateReferenceSystems.pdf" class="uri">https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/OverviewCoordinateReferenceSystems.pdf</a></p>
<p>CRS: <strong>C</strong>oordinate <strong>R</strong>eference <strong>S</strong>ystem</p>
<p>EPSG Geodetic Parameter Dataset: structured dataset of Coordinate Reference Systems and Coordinate Transformations (<a href="http://www.epsg-registry.org/" class="uri">http://www.epsg-registry.org/</a>)</p>
</div>
<div id="vector-data-and-shapefiles" class="section level3">
<h3><span class="header-section-number">7.1.2</span> Vector data and shapefiles</h3>
<p>Reading: <a href="https://bookdown.org/robinlovelace/geocompr/spatial-data-operations.html#spatial-operations-on-vector-data" class="uri">https://bookdown.org/robinlovelace/geocompr/spatial-data-operations.html#spatial-operations-on-vector-data</a></p>
</div>
<div id="raster-data" class="section level3">
<h3><span class="header-section-number">7.1.3</span> Raster data</h3>
<p>Reading: <a href="https://bookdown.org/robinlovelace/geocompr/spatial-data-operations.html#spatial-operations-on-raster-data" class="uri">https://bookdown.org/robinlovelace/geocompr/spatial-data-operations.html#spatial-operations-on-raster-data</a></p>
</div>
<div id="backends" class="section level3">
<h3><span class="header-section-number">7.1.4</span> Backends</h3>
<div id="gdal" class="section level4">
<h4><span class="header-section-number">7.1.4.1</span> <code>GDAL</code></h4>
<p>GDAL: <strong>G</strong>eospatial <strong>D</strong>ata <strong>A</strong>bstraction <strong>L</strong>ibrary</p>
<p><a href="https://en.wikipedia.org/wiki/GDAL#Software_using_GDAL/OGR" class="uri">https://en.wikipedia.org/wiki/GDAL#Software_using_GDAL/OGR</a></p>
</div>
<div id="geos" class="section level4">
<h4><span class="header-section-number">7.1.4.2</span> <code>GEOS</code></h4>
<p>GEOS: <strong>G</strong>eometry <strong>E</strong>ngine - <strong>O</strong>pen <strong>S</strong>ource</p>
<p><a href="https://en.wikipedia.org/wiki/JTS_Topology_Suite#Applications_Using_GEOS" class="uri">https://en.wikipedia.org/wiki/JTS_Topology_Suite#Applications_Using_GEOS</a></p>
</div>
</div>
<div id="r-as-a-gis-packages" class="section level3">
<h3><span class="header-section-number">7.1.5</span> R as a GIS: packages</h3>
<p><a href="https://cran.r-project.org/web/packages/sp/" class="uri">https://cran.r-project.org/web/packages/sp/</a></p>
<div id="rgdal" class="section level4">
<h4><span class="header-section-number">7.1.5.1</span> <code>rgdal</code></h4>
<p><code>rgdal</code>: Bindings for the ‘Geospatial’ Data Abstraction Library</p>
<p>Provides bindings to the ‘Geospatial’ Data Abstraction Library (‘GDAL’) (&gt;= 1.6.3) and access to projection/transformation operations from the ‘PROJ.4’ library. The ‘GDAL’ and ‘PROJ.4’ libraries are external to the package, and, when installing the package from source, must be correctly installed first. Both ‘GDAL’ raster and ‘OGR’ vector map data can be imported into R, and ‘GDAL’ raster data and ‘OGR’ vector data exported. Use is made of classes defined in the ‘sp’ package. Windows and Mac Intel OS X binaries (including ‘GDAL’, ‘PROJ.4’ and ‘Expat’) are provided on ‘CRAN’.</p>
<p><a href="https://cran.r-project.org/web/packages/rgdal/" class="uri">https://cran.r-project.org/web/packages/rgdal/</a></p>
</div>
<div id="rgeos" class="section level4">
<h4><span class="header-section-number">7.1.5.2</span> <code>rgeos</code></h4>
<p><code>rgeos</code>: Interface to Geometry Engine - Open Source (‘GEOS’)</p>
<p>Interface to Geometry Engine - Open Source (‘GEOS’) using the C ‘API’ for topology operations on geometries. The ‘GEOS’ library is external to the package, and, when installing the package from source, must be correctly installed first. Windows and Mac Intel OS X binaries are provided on ‘CRAN’.</p>
<p><a href="https://cran.r-project.org/web/packages/rgeos/" class="uri">https://cran.r-project.org/web/packages/rgeos/</a></p>
</div>
<div id="proj4" class="section level4">
<h4><span class="header-section-number">7.1.5.3</span> <code>proj4</code></h4>
<p><code>proj4</code>: A simple interface to the PROJ.4 cartographic projections library</p>
<p>A simple interface to lat/long projection and datum transformation of the PROJ.4 cartographic projections library. It allows transformation of geographic coordinates from one projection and/or datum to another.</p>
<p><a href="https://cran.r-project.org/web/packages/proj4/" class="uri">https://cran.r-project.org/web/packages/proj4/</a></p>
</div>
<div id="sf" class="section level4">
<h4><span class="header-section-number">7.1.5.4</span> <code>sf</code></h4>
<p><code>sf</code>: Simple Features for R</p>
<p>Support for simple features, a standardized way to encode spatial vector data. Binds to GDAL for reading and writing data, to GEOS for geometrical operations, and to Proj.4 for projection conversions and datum transformations.</p>
<p><a href="https://cran.r-project.org/web/packages/sf/" class="uri">https://cran.r-project.org/web/packages/sf/</a></p>
</div>
<div id="sp" class="section level4">
<h4><span class="header-section-number">7.1.5.5</span> <code>sp</code></h4>
<p><code>sp</code>: Classes and Methods for Spatial Data</p>
<p>Classes and methods for spatial data; the classes document where the spatial location information resides, for 2D or 3D data. Utility functions are provided, e.g. for plotting data as maps, spatial selection, as well as methods for retrieving coordinates, for subsetting, print, summary, etc.</p>
<p><a href="https://cran.r-project.org/web/packages/sp/" class="uri">https://cran.r-project.org/web/packages/sp/</a></p>
</div>
<div id="ggmap" class="section level4">
<h4><span class="header-section-number">7.1.5.6</span> <code>ggmap</code></h4>
<p><code>ggmap</code>: Spatial Visualization with ggplot2</p>
<p>A collection of functions to visualize spatial data and models on top of static maps from various online sources (e.g Google Maps and Stamen Maps). It includes tools common to those tasks, including functions for geolocation and routing.</p>
<p><a href="https://cran.r-project.org/web/packages/ggmap/" class="uri">https://cran.r-project.org/web/packages/ggmap/</a></p>
</div>
<div id="leaflet" class="section level4">
<h4><span class="header-section-number">7.1.5.7</span> <code>leaflet</code></h4>
<p><code>leaflet</code>: Create Interactive Web Maps with the JavaScript ‘Leaflet’ Library</p>
<p>Create and customize interactive maps using the ‘Leaflet’ JavaScript library and the ‘htmlwidgets’ package. These maps can be used directly from the R console, from ‘RStudio’, in Shiny apps and R Markdown documents.</p>
<p><a href="https://cran.r-project.org/web/packages/leaflet/" class="uri">https://cran.r-project.org/web/packages/leaflet/</a></p>
<p><a href="https://rstudio.github.io/leaflet/" class="uri">https://rstudio.github.io/leaflet/</a></p>
</div>
<div id="pythonic-world" class="section level4">
<h4><span class="header-section-number">7.1.5.8</span> Pythonic world</h4>
<p><a href="https://pypi.python.org/pypi/GDAL" class="uri">https://pypi.python.org/pypi/GDAL</a></p>
<p><a href="https://pypi.python.org/pypi/geos" class="uri">https://pypi.python.org/pypi/geos</a></p>
</div>
</div>
<div id="example-1" class="section level3">
<h3><span class="header-section-number">7.1.6</span> Example</h3>
<p>US: <a href="https://www.youtube.com/watch?v=qu6TiwvjPLs" class="uri">https://www.youtube.com/watch?v=qu6TiwvjPLs</a></p>
<p>Europe: <a href="https://www.youtube.com/watch?v=TYqsa5EvFe4" class="uri">https://www.youtube.com/watch?v=TYqsa5EvFe4</a></p>
<p>Power plants and air pollution monitors</p>
<p><a href="https://github.com/datasciencelabs/data/blob/master/powerplants.csv" class="uri">https://github.com/datasciencelabs/data/blob/master/powerplants.csv</a></p>
<p><a href="https://github.com/datasciencelabs/data/blob/master/pm25.csv" class="uri">https://github.com/datasciencelabs/data/blob/master/pm25.csv</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">power_plants &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/datasciencelabs/data/master/powerplants.csv&quot;</span>)[, <span class="op">-</span><span class="dv">1</span>]
<span class="kw">names</span>(power_plants)[<span class="dv">4</span>] &lt;-<span class="st"> &quot;so2&quot;</span>
pm25 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/datasciencelabs/data/master/pm25.csv&quot;</span>)[, <span class="op">-</span><span class="dv">1</span>]
<span class="kw">names</span>(pm25)[<span class="dv">4</span>] &lt;-<span class="st"> &quot;pm&quot;</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggmap)</code></pre></div>
<pre><code>## Loading required package: ggplot2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">map &lt;-<span class="st"> </span><span class="kw">get_map</span>(<span class="st">&quot;US&quot;</span>, <span class="dt">zoom =</span> <span class="dv">4</span>)</code></pre></div>
<pre><code>## Map from URL : http://maps.googleapis.com/maps/api/staticmap?center=US&amp;zoom=4&amp;size=640x640&amp;scale=2&amp;maptype=terrain&amp;language=en-EN&amp;sensor=false</code></pre>
<pre><code>## Information from URL : http://maps.googleapis.com/maps/api/geocode/json?address=US&amp;sensor=false</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">ggmap</span>(map) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> power_plants, <span class="kw">aes</span>(<span class="dt">x =</span> lon1, <span class="dt">y =</span> lat1, <span class="dt">alpha =</span> so2), <span class="dt">size =</span> <span class="dv">5</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> pm25, <span class="kw">aes</span>(<span class="dt">x =</span> lon2, <span class="dt">y =</span> lat2), <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) 
  
p</code></pre></div>
<pre><code>## Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning: Removed 37 rows containing missing values (geom_point).</code></pre>
<p><img src="Computing_for_Big_Data_files/figure-html/unnamed-chunk-164-1.png" width="672" /></p>
<div id="spatial-objects" class="section level4">
<h4><span class="header-section-number">7.1.6.1</span> Spatial objects</h4>
<p><code>power_plants</code> and <code>pm25</code> are data frames. <code>ggmap</code> “guessed” how they should be displayed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(power_plants)</code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(pm25)</code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>We can convert data frames into spatial objects. <code>plot</code> is still “guessing” the CRS.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sp)
spm25 &lt;-<span class="st"> </span>pm25
<span class="kw">coordinates</span>(spm25) &lt;-<span class="st"> </span><span class="er">~</span>lon2 <span class="op">+</span><span class="st"> </span>lat2
<span class="kw">class</span>(spm25)</code></pre></div>
<pre><code>## [1] &quot;SpatialPointsDataFrame&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(spm25)</code></pre></div>
<p><img src="Computing_for_Big_Data_files/figure-html/unnamed-chunk-167-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(proj4)
<span class="kw">proj4string</span>(spm25)</code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">proj4string</span>(spm25) &lt;-<span class="st"> </span><span class="kw">CRS</span>(<span class="st">&quot;+init=epsg:4269&quot;</span>) <span class="co"># for most federal agencies NAD83 (EPSG:4269) </span>
<span class="kw">proj4string</span>(spm25)</code></pre></div>
<pre><code>## [1] &quot;+init=epsg:4269 +proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(spm25)</code></pre></div>
<p><img src="Computing_for_Big_Data_files/figure-html/unnamed-chunk-169-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(spm25)</code></pre></div>
<pre><code>##             coordinates        id2       pm
## 1   (-86.815, 33.55306) 01073-0023 26.44084
## 2 (-86.92417, 33.49972) 01073-2003 21.65607
## 3 (-86.77944, 33.58556) 01073-6003 28.02234
## 4 (-86.79639, 33.56528) 01073-6004 29.56994
## 5 (-88.08753, 30.76994) 01097-0003 18.82726
## 6 (-149.8246, 61.20586) 02020-0018 14.00546</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">spTransform</span>(spm25, <span class="kw">CRS</span>(<span class="st">&quot;+init=epsg:3857&quot;</span>)), <span class="dv">3</span>) <span class="co"># Mercator: Google map</span></code></pre></div>
<pre><code>##           coordinates        id2       pm
## 1 (-9664202, 3968945) 01073-0023 26.44084
## 2 (-9676354, 3961823) 01073-2003 21.65607
## 3 (-9660244, 3973287) 01073-6003 28.02234</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">spTransform</span>(spm25, <span class="kw">CRS</span>(<span class="st">&quot;+init=epsg:3857&quot;</span>)))</code></pre></div>
<p><img src="Computing_for_Big_Data_files/figure-html/unnamed-chunk-170-1.png" width="672" /></p>
</div>
<div id="spatial-operations" class="section level4">
<h4><span class="header-section-number">7.1.6.2</span> Spatial operations</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spm25[<span class="dv">1</span>, ]</code></pre></div>
<pre><code>##           coordinates        id2       pm
## 1 (-86.815, 33.55306) 01073-0023 26.44084</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spm25[<span class="dv">2</span>, ]</code></pre></div>
<pre><code>##             coordinates        id2       pm
## 2 (-86.92417, 33.49972) 01073-2003 21.65607</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span>spm25[<span class="dv">1</span>, ]
p2 &lt;-<span class="st"> </span>spm25[<span class="dv">2</span>, ]
<span class="kw">spDistsN1</span>(p1, p2, <span class="dt">longlat=</span><span class="ot">TRUE</span>) <span class="co"># longlat TRUE to get km</span></code></pre></div>
<pre><code>## [1] 11.74021</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># m &lt;- spDists(p1, spm25, longlat=TRUE) # to get all pairwise distances</span></code></pre></div>
<p>Let’s check: <a href="http://www.tytai.com/gmap/distance/" class="uri">http://www.tytai.com/gmap/distance/</a>.</p>
<p><img src="images/ch7_distance_check.png" width="1001" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(spdep)</code></pre></div>
<pre><code>## Warning: package &#39;spdep&#39; was built under R version 3.4.3</code></pre>
<pre><code>## Loading required package: Matrix</code></pre>
<pre><code>## Loading required package: spData</code></pre>
<pre><code>## Warning: package &#39;spData&#39; was built under R version 3.4.3</code></pre>
<pre><code>## 
## Attaching package: &#39;spData&#39;</code></pre>
<pre><code>## The following objects are masked _by_ &#39;.GlobalEnv&#39;:
## 
##     x, y</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">kn &lt;-<span class="st"> </span><span class="kw">knn2nb</span>(<span class="kw">knearneigh</span>(spm25, <span class="dt">k =</span> <span class="dv">5</span>))</code></pre></div>
<pre><code>## Warning in knearneigh(spm25, k = 5): knearneigh: identical points found</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">kn[<span class="dv">1</span>] <span class="co"># 3   4 304 306 308</span></code></pre></div>
<pre><code>## [[1]]
## [1]   3   4 304 306 308</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pm25[<span class="kw">unlist</span>(kn[<span class="dv">1</span>]), ]</code></pre></div>
<pre><code>##            id2     lat2      lon2       pm
## 3   01073-6003 33.58556 -86.77944 28.02234
## 4   01073-6004 33.56528 -86.79639 29.56994
## 304 01073-0023 33.55306 -86.81500 21.98295
## 306 01073-6002 33.57833 -86.77389 12.35746
## 308 01073-6004 33.56528 -86.79639 28.51129</code></pre>
</div>
<div id="polygons" class="section level4">
<h4><span class="header-section-number">7.1.6.3</span> Polygons</h4>
<p>In which states are the PM2.5 monitors?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tigris)
<span class="kw">library</span>(raster)
s &lt;-<span class="st"> </span><span class="kw">states</span>(<span class="dt">cb =</span> <span class="ot">TRUE</span>, <span class="dt">year =</span> <span class="dv">2010</span>)
<span class="kw">shapefile</span>(s, <span class="st">&quot;~/Dropbox/Data17/census/census.shp&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(raster)
s &lt;-<span class="st"> </span><span class="kw">shapefile</span>(<span class="st">&quot;~/Dropbox/Data17/census/census.shp&quot;</span>)
<span class="kw">sort</span>(<span class="kw">unique</span>(s<span class="op">@</span>data<span class="op">$</span>NAME))</code></pre></div>
<pre><code>##  [1] &quot;Alabama&quot;              &quot;Alaska&quot;               &quot;Arizona&quot;             
##  [4] &quot;Arkansas&quot;             &quot;California&quot;           &quot;Colorado&quot;            
##  [7] &quot;Connecticut&quot;          &quot;Delaware&quot;             &quot;District of Columbia&quot;
## [10] &quot;Florida&quot;              &quot;Georgia&quot;              &quot;Hawaii&quot;              
## [13] &quot;Idaho&quot;                &quot;Illinois&quot;             &quot;Indiana&quot;             
## [16] &quot;Iowa&quot;                 &quot;Kansas&quot;               &quot;Kentucky&quot;            
## [19] &quot;Louisiana&quot;            &quot;Maine&quot;                &quot;Maryland&quot;            
## [22] &quot;Massachusetts&quot;        &quot;Michigan&quot;             &quot;Minnesota&quot;           
## [25] &quot;Mississippi&quot;          &quot;Missouri&quot;             &quot;Montana&quot;             
## [28] &quot;Nebraska&quot;             &quot;Nevada&quot;               &quot;New Hampshire&quot;       
## [31] &quot;New Jersey&quot;           &quot;New Mexico&quot;           &quot;New York&quot;            
## [34] &quot;North Carolina&quot;       &quot;North Dakota&quot;         &quot;Ohio&quot;                
## [37] &quot;Oklahoma&quot;             &quot;Oregon&quot;               &quot;Pennsylvania&quot;        
## [40] &quot;Puerto Rico&quot;          &quot;Rhode Island&quot;         &quot;South Carolina&quot;      
## [43] &quot;South Dakota&quot;         &quot;Tennessee&quot;            &quot;Texas&quot;               
## [46] &quot;Utah&quot;                 &quot;Vermont&quot;              &quot;Virginia&quot;            
## [49] &quot;Washington&quot;           &quot;West Virginia&quot;        &quot;Wisconsin&quot;           
## [52] &quot;Wyoming&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s &lt;-<span class="st"> </span><span class="kw">subset</span>(s, <span class="op">!</span><span class="st"> </span>NAME <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Alaska&quot;</span>, <span class="st">&quot;Hawaii&quot;</span>,  <span class="st">&quot;Puerto Rico&quot;</span>))
<span class="kw">plot</span>(s)</code></pre></div>
<p><img src="Computing_for_Big_Data_files/figure-html/unnamed-chunk-174-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">proj4string</span>(s)</code></pre></div>
<pre><code>## [1] &quot;+proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">proj4string</span>(spm25)</code></pre></div>
<pre><code>## [1] &quot;+init=epsg:4269 +proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spm25proj &lt;-<span class="st"> </span><span class="kw">spTransform</span>(spm25, <span class="kw">proj4string</span>(s))
<span class="kw">proj4string</span>(spm25proj)</code></pre></div>
<pre><code>## [1] &quot;+proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">o &lt;-<span class="st"> </span><span class="kw">over</span>(spm25proj, s)
odf &lt;-<span class="st"> </span><span class="kw">data.frame</span>(spm25<span class="op">@</span>data , o)
<span class="kw">head</span>(odf)</code></pre></div>
<pre><code>##          id2       pm      GEO_ID STATE    NAME LSAD CENSUSAREA
## 1 01073-0023 26.44084 0400000US01    01 Alabama &lt;NA&gt;   50645.33
## 2 01073-2003 21.65607 0400000US01    01 Alabama &lt;NA&gt;   50645.33
## 3 01073-6003 28.02234 0400000US01    01 Alabama &lt;NA&gt;   50645.33
## 4 01073-6004 29.56994 0400000US01    01 Alabama &lt;NA&gt;   50645.33
## 5 01097-0003 18.82726 0400000US01    01 Alabama &lt;NA&gt;   50645.33
## 6 02020-0018 14.00546        &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt;         NA</code></pre>
</div>
<div id="rasters" class="section level4">
<h4><span class="header-section-number">7.1.6.4</span> Rasters</h4>
<p>Let’s get temperature data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(raster)
temperatures &lt;-<span class="st"> </span><span class="kw">getData</span>(<span class="st">&quot;worldclim&quot;</span>, <span class="dt">var =</span> <span class="st">&quot;tmean&quot;</span>, <span class="dt">res =</span> <span class="dv">10</span>)
tmp_aug &lt;-<span class="st"> </span>temperatures[[<span class="dv">8</span>]] <span class="co"># select August</span>
<span class="kw">plot</span>(tmp_aug)</code></pre></div>
<p><img src="Computing_for_Big_Data_files/figure-html/unnamed-chunk-175-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp_aug_state &lt;-<span class="st"> </span><span class="kw">extract</span>(tmp_aug, s, <span class="dt">fun =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, <span class="dt">df =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## Warning in .local(x, y, ...): Transforming SpatialPolygons to the CRS of
## the Raster</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">cbind</span>(s<span class="op">@</span>data<span class="op">$</span>NAME, <span class="fl">0.1</span> <span class="op">*</span><span class="st"> </span>tmp_aug_state)) <span class="co"># 0.1 to get back to C</span></code></pre></div>
<pre><code>##     s@data$NAME  ID   tmean8
## 1         Maine 0.1 17.50541
## 2 Massachusetts 0.2 20.11750
## 3      Michigan 0.3 18.97676
## 4       Montana 0.4 17.77345
## 5        Nevada 0.5 20.37820
## 6    New Jersey 0.6 22.40779</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># tmp_aug_pp &lt;- extract(tmp_aug, spm25, fun = mean, na.rm = TRUE, df = TRUE)</span></code></pre></div>
</div>
</div>
<div id="from-sp-to-sf" class="section level3">
<h3><span class="header-section-number">7.1.7</span> From <code>sp</code> to <code>sf</code></h3>
<p>Reading: <a href="https://github.com/r-spatial/sf/wiki/migrating" class="uri">https://github.com/r-spatial/sf/wiki/migrating</a></p>
</div>
</div>
<div id="principles-of-visualization" class="section level2">
<h2><span class="header-section-number">7.2</span> Principles of visualization</h2>
<p>Guest lecture (James Honaker)</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Bivand2013">
<p>Bivand, Roger, Edzer J. Pebesma, and Virgilio Gómez-Rubio. 2013. <em>Applied Spatial Data Analysis with R - Second Edition</em>. Vol. 10. Use R! Springer.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bigdata.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cchoirat/bigdata17edit/master/07-visualization.Rmd",
"text": "Edit"
},
"download": ["Computing for Big Data.pdf", "Computing for Big Data.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
